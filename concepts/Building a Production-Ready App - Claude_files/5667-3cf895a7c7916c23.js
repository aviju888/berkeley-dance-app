"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5667],{34033:function(e,n,t){t.d(n,{EM:function(){return s}});var u=t(89992),i=t(88075),a=t(24658),r=t(49793),o=t(99694),c=t(26821);let s=()=>{let{account:e,activeOrganization:n}=(0,i.t)(),t=null==e?void 0:e.uuid,s=null==n?void 0:n.uuid,{addError:l}=(0,a.e)(),d=(0,c.useQueryClient)();return(0,u.uC)("/api/organizations/".concat(s,"/sync/mcp/drive/ingest"),"POST",{onSuccess:()=>{setTimeout(()=>{d.invalidateQueries({queryKey:[r.dY,{orgUuid:s,accountUuid:t,syncSourceType:o.Fg.GDRIVE}]})},300)},onError:e=>{l(e)}})}},23428:function(e,n,t){t.d(n,{E4:function(){return k},En:function(){return M},J$:function(){return J},JQ:function(){return O},M1:function(){return F},Mr:function(){return eu},Mv:function(){return H},N:function(){return K},Oy:function(){return U},P8:function(){return et},QD:function(){return N},RS:function(){return B},Y$:function(){return er},Yn:function(){return x},bZ:function(){return z},gQ:function(){return j},gb:function(){return ed},hJ:function(){return I},lP:function(){return en},mD:function(){return Y},nC:function(){return V},oE:function(){return Q},sf:function(){return ec},tc:function(){return P},td:function(){return Z},vc:function(){return $},xm:function(){return es},yb:function(){return X}});var u,i,a,r,o,c,s=t(73567),l=t(89992),d=t(88075),f=t(24658),g=t(65490),h=t(2275),y=t(44846),v=t(49793),p=t(99694),_=t(26821),m=t(67754),b=t(7653),E=t(17792),S=t(1489),T=t(71894),C=t(34033);let w="bananagrams_enablement",A="gdrive_success",D="github_success";(u=r||(r={})).PENDING="pending",u.STARTED="started",u.COMPLETED="completed",u.FAILED="failed",(i=o||(o={})).PATH_NOT_FOUND="path_not_found",i.INVALID_SHA="invalid_sha",i.SIZE_LIMIT_EXCEEDED="size_limit_exceeded",i.SOURCE_MISSING_OR_CHANGED="source_missing_or_changed",(a=c||(c={})).NOT_AUTHENTICATED="not_authenticated",a.NOT_AUTHORIZED="not_authorized",a.CAN_ACCESS="can_access";let I=e=>e.type===p.Fg.GITHUB?{sync_source_type:p.Fg.GITHUB,sync_source_config:e.config}:e.type===p.Fg.GDRIVE?{sync_source_type:p.Fg.GDRIVE,sync_source_config:e.config}:null,P=()=>{let{activeOrganization:e}=(0,d.t)(),n=null==e?void 0:e.uuid,{value:t}=(0,y.F)("nighthawk_enabled"),{value:u}=(0,y.F)("kingfisher_enabled"),{value:i}=(0,y.F)("spider_enabled_2");return(0,l.WE)("/api/organizations/".concat(n,"/sync/settings"),{queryKey:[v.FU,{orgUUID:n}],enabled:!!(e&&(t||u||i))})},F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,d.t)(),t=null==n?void 0:n.uuid,{value:u}=(0,y.F)("nighthawk_enabled"),{value:i}=(0,y.F)("kingfisher_enabled"),{value:a}=(0,y.F)("spider_enabled_2"),r=(0,_.useQueryClient)();return(0,l.Ne)("/api/organizations/".concat(t,"/sync/settings"),"PUT",(e,n)=>{let{type:t,enabled:u}=e;n||(n=[]);let i=n.map(e=>e.type===t?{...e,enabled:u}:e);return i.some(e=>e.type===t)?i:[...n,{type:t,enabled:u}]},{queryKey:[v.FU,{orgUUID:t}],enabled:!!(n&&(u||i||a)),onSuccess:async function(){for(var n,u=arguments.length,i=Array(u),a=0;a<u;a++)i[a]=arguments[a];await r.invalidateQueries({queryKey:[v.FU,{orgUUID:t}]}),await (null===(n=e.onSuccess)||void 0===n?void 0:n.call(e,...i))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},O=()=>{let{value:e}=(0,y.F)("apps_use_bananagrams");return e},U=()=>{let{account:e}=(0,d.t)(),{mutate:n}=(0,s.Ck)(),t=O(),u=!!(null==e?void 0:e.settings.enabled_bananagrams),{mutate:i}=(0,C.EM)();return{bananagramsAllowed:t,bananagramsEnabled:u,handleToggleBananagramsEnabled:u=>{var a;t&&(n({...null==e?void 0:e.settings,enabled_bananagrams:u,dismissed_claudeai_banners:[...(null==e?void 0:null===(a=e.settings)||void 0===a?void 0:a.dismissed_claudeai_banners)||[],{banner_id:w,dismissed_at:new Date().toISOString()}]}),u&&i({}))}}},q=(e,n)=>{let t=new URLSearchParams(Array.from(n.entries()));t.delete(e);let u=t.toString()?"?".concat(t.toString()):"",i=window.location.pathname+u;window.history.replaceState({...window.history.state,as:i,url:i},"",i)},R=e=>{let{callerIdentifier:n,successParam:t,handleOpen:u}=e,i=(0,m.useSearchParams)(),a=(0,b.useRef)(!1);(0,b.useEffect)(()=>{!i.has(t)||a.current||n&&n!==i.get(t)||(a.current=!0,q(t,i),u())},[i,n,u,t])},z=()=>{let{value:e}=(0,y.F)("cinnabon_enabled");return e},N=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:t}=(0,d.t)(),u=null==t?void 0:t.uuid,i=(0,m.useRouter)(),a=(0,m.usePathname)(),r=(0,m.useSearchParams)(),{callerIdentifier:o,onAuthSuccess:c}=n,s=z(),f=(0,_.useQueryClient)(),{data:g}=(0,l.WE)("/api/organizations/".concat(u,"/sync/").concat(e,"/auth"),{queryKey:["sync_".concat(e,"_auth_status"),{orgUUID:u}],enabled:!!(t&&s)}),y=(0,b.useRef)(!1),{mutate:v}=(0,l.uC)("/api/organizations/".concat(u,"/sync/").concat(e,"/auth/start"),"POST",{enabled:!!(t&&s),onSuccess:e=>{i.push(e.redirect_url)}});R({callerIdentifier:o,successParam:"".concat(e,"_success"),handleOpen:()=>null==c?void 0:c(!0)});let{mutate:p}=(0,l.uC)("/api/organizations/".concat(u,"/sync/").concat(e,"/auth"),"DELETE",{enabled:!!(t&&s),onSuccess:()=>{f.invalidateQueries({queryKey:["sync_".concat(e,"_auth_status"),{orgUUID:u}]})}});return{isAuthenticated:!!(null==g?void 0:g.is_authenticated),startAuth:()=>{if(!y.current&&s){y.current=!0;let n=W({pathname:a,searchParams:r,queryString:"".concat(e,"_success=").concat(o)});if((0,h.Rx)()){window.open("/settings/profile?open_in_browser=1&auth_start=".concat(e,"&origin=").concat(n));return}v({pre_auth_state:{origin:n},redirect_uri:new URL("/connect/".concat(e,"/callback"),window.location.origin).toString()})}},disconnect:p}},x=function(){let{callerIdentifier:e,toggleGithubModalOpen:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,d.t)(),u=null==t?void 0:t.uuid,i=et(),a=(0,m.useRouter)(),{data:r}=(0,l.WE)("/api/organizations/".concat(u,"/sync/github/auth"),{queryKey:[v.Os,{orgUUID:u}],enabled:!!(t&&i)}),{mutate:o}=(0,l.uC)("/api/organizations/".concat(u,"/sync/github/auth/start"),"POST",{enabled:!!(t&&i),onSuccess:e=>{a.push(e.redirect_url)}}),c="".concat(D,"=").concat(e);R({callerIdentifier:e,successParam:D,handleOpen:()=>{null==n||n(!0)}});let s=(0,m.useSearchParams)(),f=(0,b.useRef)(!1),g=W({pathname:(0,m.usePathname)(),searchParams:s,queryString:c});return{isGithubAuthenticated:!!(null==r?void 0:r.is_authenticated),initGithubAuth:()=>{if(i){if((0,h.Rx)()){window.open("/settings/profile?open_in_browser=1&auth_start=github&origin=".concat(g));return}f.current||(f.current=!0,o({pre_auth_state:{origin:g}}))}}}},K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,d.t)(),t=null==n?void 0:n.uuid,u=et(),i=(0,_.useQueryClient)();return(0,l.uC)("/api/organizations/".concat(t,"/sync/github/auth"),"DELETE",{enabled:!!(n&&u),...e,onSuccess:function(){for(var n,u=arguments.length,a=Array(u),r=0;r<u;r++)a[r]=arguments[r];i.invalidateQueries({queryKey:[v.Os,{orgUUID:t}]}),null===(n=e.onSuccess)||void 0===n||n.call(e,...a)}})},k=()=>{let{data:e}=P(),n=(0,d.Cf)(),{value:t}=(0,y.F)("kingfisher_enabled"),u=!!(null==e?void 0:e.find(e=>e.type===p.Fg.GDRIVE&&e.enabled));return!!(t&&(!n||u))},Q=()=>{let{account:e,activeOrganization:n}=(0,d.t)(),t=null==n?void 0:n.uuid,u=k(),{data:i}=(0,l.WE)("/api/organizations/".concat(t,"/sync/mcp/drive/auth"),{queryKey:[v.Yw,{accountUUID:null==e?void 0:e.uuid,orgUUID:t}],enabled:u,staleTime:3e5});return!!(null==i?void 0:i.is_authenticated)},G=()=>{let{isDismissed:e}=(0,E.K)(),n=O(),t=e(w);return n&&!t},L=e=>{let{callerIdentifier:n}=e,t=(0,m.usePathname)(),{account:u,activeOrganization:i}=(0,d.t)(),a=null==u?void 0:u.uuid,r=null==i?void 0:i.uuid,o=k(),c=(0,m.useRouter)(),s=(0,_.useQueryClient)(),f=(0,m.useSearchParams)(),{mutate:g}=(0,l.uC)("/api/organizations/".concat(r,"/sync/mcp/drive/auth/start"),"POST",{enabled:o,onSuccess:e=>{c.push(e.redirect_url)}}),y=(0,b.useRef)(!1);return()=>{if(!o)return;let e=W({pathname:t,searchParams:f,queryString:"".concat(A,"=").concat(n)});if(s.invalidateQueries({queryKey:[v.Yw,{accountUUID:a,orgUUID:r}]}),(0,h.Rx)()){window.open("/settings/profile?open_in_browser=1&auth_start=gdrive&origin=".concat(e));return}y.current||(y.current=!0,g({pre_auth_state:{origin:e},redirect_uri:new URL("/connect/mcp/drive/callback",window.location.origin).toString()}))}},V=function(){let{callerIdentifier:e,handleAuthSuccess:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Q(),u=G(),{dropdownToOpen:i,openModal:a,clearCallerIdentifier:r}=(0,S.J)(),o=function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(!t){null==n||n(t);return}u?(a(e),null==n||n(!1)):null==n||n(t)},c=L({callerIdentifier:e});return R({callerIdentifier:e,successParam:A,handleOpen:o}),(0,b.useEffect)(()=>{e&&i===e&&(null==n||n(!0),r())},[i,n,e,r]),{isDriveAuthenticated:t,shouldShowDriveSearchEnablementModal:u,initDriveAuth:c,handleDriveTrigger:o}},W=e=>{let{pathname:n,searchParams:t,queryString:u}=e,i="".concat(n,"?").concat(u),a=t.get("origin");if(a)i=a;else if((0,h.Rx)()){let e=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i,t=n.startsWith("/project/")&&e.test(n.slice(9)),a=n.startsWith("/chat/")&&e.test(n.slice(6));i="claude://claude.ai".concat(t||a||"/new"===n?n:"/new","?").concat(u)}return i},M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:n,activeOrganization:t}=(0,d.t)(),u=null==n?void 0:n.uuid,i=null==t?void 0:t.uuid,a=k(),r=(0,_.useQueryClient)();return(0,l.uC)("/api/organizations/".concat(i,"/sync/mcp/drive/auth"),"DELETE",{enabled:!!(t&&a),...e,onSuccess:function(){for(var n,t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];r.invalidateQueries({queryKey:[v.Yw,{accountUUID:u,orgUUID:i}]}),null===(n=e.onSuccess)||void 0===n||n.call(e,...a)}})},H=e=>{let{documentId:n}=e,{account:t,activeOrganization:u}=(0,d.t)(),i=null==t?void 0:t.uuid,a=null==u?void 0:u.uuid,r=k(),o=(0,_.useQueryClient)(),c=(0,l.WE)("/api/organizations/".concat(a,"/sync/mcp/drive/document/").concat(n),{queryKey:[v.HI,{accountUUID:i,orgUUID:a,documentId:n}],enabled:r,meta:{noToast:!0}}),s=c.isError;return(0,b.useEffect)(()=>{s&&o.invalidateQueries({queryKey:[v.Yw,{accountUUID:i,orgUUID:a}]})},[o,s,i,a]),c},Y=e=>{let{account:n,activeOrganization:t}=(0,d.t)(),u=null==n?void 0:n.uuid,i=null==t?void 0:t.uuid,a=k();return(0,l.Nl)(e.map(e=>"/api/organizations/".concat(i,"/sync/mcp/drive/document/").concat(e)),{queryKey:e.map(e=>[v.Yp,{accountUUID:u,orgUUID:i,documentId:e}]),enabled:a,meta:{noToast:!0}})},Z=e=>{let{account:n,activeOrganization:t}=(0,d.t)(),u=null==n?void 0:n.uuid,i=null==t?void 0:t.uuid,a=k(),r=(0,T.F7)(),{data:o,isSuccess:c,isLoading:s}=(0,l.WE)("/api/organizations/".concat(i,"/sync/mcp/drive/recents"),{queryKey:[v.s8,{accountUUID:u,orgUUID:i}],enabled:e&&a,meta:{noToast:!0}});return(0,b.useEffect)(()=>{if(c&&o){let e=o.map(e=>{let{uri:n,title:t}=e;return{uri:n,title:t}});(0,T.MU)(e)}},[c,o]),{recentDriveDocs:c?o:r,isLoading:s}},j=e=>{let{documentId:n}=e,{account:t,activeOrganization:u}=(0,d.t)(),i=null==t?void 0:t.uuid,a=null==u?void 0:u.uuid,r=J();return(0,l.WE)("/api/organizations/".concat(a,"/sync/mcp/outline/document/").concat(n),{queryKey:[v.q2,{accountUUID:i,orgUUID:a,documentId:n}],enabled:r})},B=e=>{let{account:n,activeOrganization:t}=(0,d.t)(),u=null==n?void 0:n.uuid,i=null==t?void 0:t.uuid,a=J();return(0,l.Nl)(e.map(e=>"/api/organizations/".concat(i,"/sync/mcp/outline/document/").concat(e)),{queryKey:e.map(e=>[v.q2,{accountUUID:u,orgUUID:i,documentId:e}]),enabled:a,meta:{noToast:!0}})},J=()=>{let{data:e}=P();return!1},$=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:n,activeOrganization:t}=(0,d.t)(),u=null==t?void 0:t.uuid,i=J(),{data:a,refetch:r}=(0,l.WE)("/api/organizations/".concat(u,"/sync/mcp/outline/auth"),{queryKey:[v.Sp,{accountUUID:null==n?void 0:n.uuid,orgUUID:u}],enabled:!!(t&&i),staleTime:5e3}),{mutate:o,isPending:c}=(0,l.uC)("/api/organizations/".concat(u,"/sync/mcp/outline/auth/start"),"POST",{enabled:!!(t&&i),...e,onSuccess:function(){for(var n,t=arguments.length,u=Array(t),i=0;i<t;i++)u[i]=arguments[i];null===(n=e.onSuccess)||void 0===n||n.call(e,...u)}});return{isOutlineAuthenticated:!!(null==a?void 0:a.is_authenticated),refetch:r,initOutlineAuth:o,isLoadingOutlineAuthInit:c}},X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:n,activeOrganization:t}=(0,d.t)(),u=null==n?void 0:n.uuid,i=null==t?void 0:t.uuid,a=J(),r=(0,_.useQueryClient)();return(0,l.uC)("/api/organizations/".concat(i,"/sync/mcp/outline/auth"),"DELETE",{enabled:!!(t&&a),...e,onSuccess:function(){for(var n,t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];r.invalidateQueries({queryKey:[v.Sp,{accountUUID:u,orgUUID:i}]}),null===(n=e.onSuccess)||void 0===n||n.call(e,...a)}})},ee=()=>{let e=encodeURIComponent(window.location.href);window.location.href="/settings/profile?redirect_url=".concat(e,"&open_outline_auth=true")},en=()=>{let{initGithubAuth:e}=x(),{initDriveAuth:n}=V();return t=>{t===p.Fg.GITHUB?e():t===p.Fg.GDRIVE?n():t===p.Fg.OUTLINE&&ee()}},et=()=>{let{data:e}=P();return!!(null==e?void 0:e.find(e=>e.type===p.Fg.GITHUB&&e.enabled))},eu=()=>{let{activeOrganization:e}=(0,d.t)(),n=null==e?void 0:e.uuid,t=et();return(0,l.WE)("/api/organizations/".concat(n,"/sync/github/repos"),{queryKey:[v.wD,{orgUUID:n}],enabled:!!(e&&t),meta:{noToast:!0}})},ei=e=>{let{owner:n,repo:t,branch:u}=e,{activeOrganization:i}=(0,d.t)(),a=null==i?void 0:i.uuid,r=et(),o=new URLSearchParams({owner:null!=n?n:"",repo:null!=t?t:""}).toString();return(0,l.WE)("/api/organizations/".concat(a,"/sync/github/repo?").concat(o),{queryKey:[v.Rz,{orgUUID:a,owner:n,repo:t}],enabled:!!(n&&t&&!u&&i&&r),meta:{noToast:!0}})},ea=e=>{let{owner:n,repo:t,branch:u}=e,{activeOrganization:i}=(0,d.t)(),a=null==i?void 0:i.uuid,r=et();return(0,l.WE)("/api/organizations/".concat(a,"/sync/github/repo/").concat(n,"/").concat(t,"/tree/").concat(u),{queryKey:[v.E0,{orgUUID:a,owner:n,repo:t,branch:u}],enabled:!!(n&&t&&u&&i&&r),meta:{noToast:!0}})},er=e=>{var n;let{owner:t,repo:u,branch:i}=e,a=ei({owner:t,repo:u,branch:i}),r=ea({owner:t,repo:u,branch:i||(null===(n=a.data)||void 0===n?void 0:n.default_branch)});return{data:{repo:a.data,tree:r.data},isFetching:a.isFetching||r.isFetching,error:a.error||r.error}},eo=e=>[p.co.CREATED,p.co.PENDING,p.co.UPDATING].includes(e),ec=e=>eo(e.status.state),es=e=>[p.co.FAILED,p.co.UPDATE_FAILED].includes(e.status.state),el=e=>{if(e instanceof g.Hx)return e instanceof g.Hx&&401===e.statusCode&&"authentication_error"===e.type},ed=()=>{let{addError:e}=(0,f.e)(),n=(0,_.useQueryClient)();return(t,u)=>{el(t)&&(e("Please try again. You may need to reconnect with your ".concat(p.hP[u.sync_source_type]," account.")),v.Su.forEach(e=>{n.invalidateQueries({queryKey:[e]})}),n.invalidateQueries({queryKey:[v.cF]}))}}},17792:function(e,n,t){t.d(n,{K:function(){return r}});var u=t(73567),i=t(88075),a=t(7653);function r(){let{mutate:e,isPending:n}=(0,u.Ck)(),{account:t}=(0,i.t)();return{dismiss:(0,a.useCallback)(n=>{var u;t&&e({...t.settings,dismissed_claudeai_banners:[...(null==t?void 0:null===(u=t.settings)||void 0===u?void 0:u.dismissed_claudeai_banners)||[],{banner_id:n,dismissed_at:new Date().toISOString()}]})},[t,e]),isDismissed:(0,a.useCallback)(e=>{var n,u;return(null==t?void 0:null===(u=t.settings)||void 0===u?void 0:null===(n=u.dismissed_claudeai_banners)||void 0===n?void 0:n.some(n=>n.banner_id===e))||!1},[t]),isPending:n}}},1489:function(e,n,t){t.d(n,{J:function(){return s},Q:function(){return c}});var u=t(27573),i=t(90345),a=t.n(i),r=t(7653);let o=(0,r.createContext)({isOpen:!1,dropdownToOpen:void 0,openModal:a(),closeModal:a(),clearCallerIdentifier:a()}),c=e=>{let{children:n}=e,[t,i]=(0,r.useState)(!1),a=(0,r.useRef)(void 0),[c,s]=(0,r.useState)(void 0);return(0,u.jsx)(o.Provider,{value:{isOpen:t,openModal:e=>{i(!0),a.current=e},closeModal:()=>{i(!1),s(a.current)},dropdownToOpen:c,clearCallerIdentifier:()=>{s(void 0)}},children:n})},s=()=>(0,r.useContext)(o)},71894:function(e,n,t){t.d(n,{F7:function(){return r},MU:function(){return a},ZZ:function(){return o}});let u="recentDriveDocs";function i(e){return"object"==typeof e&&null!==e&&"string"==typeof e.uri&&("string"==typeof e.title||void 0===e.title)}function a(e){localStorage.setItem(u,JSON.stringify(e))}function r(){let e=localStorage.getItem(u);if(e){let n=JSON.parse(e);if(n&&Array.isArray(n)&&n.every(i))return n}return[]}function o(e){let n=r();a(n=n.filter(n=>n.uri!==e))}},73567:function(e,n,t){t.d(n,{Ck:function(){return _},IR:function(){return g},Pd:function(){return h},Uc:function(){return v},W1:function(){return s},_y:function(){return y},fb:function(){return E},gq:function(){return b},k7:function(){return m},ml:function(){return f},wO:function(){return l},yU:function(){return d},yq:function(){return p}});var u=t(89992),i=t(51571),a=t(17741),r=t(49793),o=t(26821),c=t(67754);function s(e,n){return(0,u.WE)("/api/auth/login_methods?email=".concat(e,"&source=").concat(n),{enabled:!!e&&(0,a.vV)(e),meta:{noToast:!0}})}let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,i.Z)();return(0,u.uC)("/api/auth/send_magic_link","POST",{...e,transformVariables:e=>({...e,source:n?"claude":"console"})})},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,i.Z)();return(0,u.uC)("/api/auth/exchange_nonce_for_code","POST",{...e,transformVariables:e=>({...e,source:n?"claude":"console"})})},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,i.Z)();return(0,u.uC)("/api/auth/verify_magic_link","POST",{...e,transformVariables:e=>({...e,source:n?"claude":"console"})})},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,i.Z)(),t=(0,c.useRouter)();return(0,u.uC)("/api/auth/verify_google","POST",{...e,onSuccess:(n,u,i)=>{!n.success&&n.sso_url?t.push(n.sso_url):e.onSuccess&&e.onSuccess(n,u,i)},transformVariables:e=>({...e,source:n?"claude":"console"})})},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,i.Z)(),t=(0,c.useRouter)();return(0,u.uC)("/api/auth/accept_invite","POST",{...e,onSuccess:(n,u,i)=>{!n.success&&n.sso_url?t.push(n.sso_url):e.onSuccess&&e.onSuccess(n,u,i)},transformVariables:e=>({...e,source:n?"claude":"console"})})},y=()=>(0,u.uC)("/api/auth/logout","POST"),v=()=>(0,u.uC)("/api/auth/logout/all-sessions","POST"),p=()=>{let e=(0,o.useQueryClient)();return(0,u.uC)("/api/account","PUT",{async onSuccess(){await e.invalidateQueries({queryKey:[r.aY]})}})},_=()=>(0,u.Ne)("/api/account","PUT",(e,n)=>(null==n?void 0:n.account)?{...n,account:{...n.account,settings:e}}:n,{queryKey:[r.aY],transformVariables:e=>({settings:e})}),m=()=>{let e=(0,o.useQueryClient)();return(0,u.uC)("/api/account/accept_legal_docs","PUT",{async onSuccess(){await e.invalidateQueries({queryKey:[r.aY]})}})};function b(e){return(0,u.WE)("/api/signups/".concat(e),{enabled:!!e,staleTime:0})}function E(e,n,t){return(0,u.WE)("/api/enterprise_auth/sso_callback?code=".concat(e,"&state=").concat(n,"&source=").concat(t),{meta:{noToast:!0}})}},17886:function(e,n,t){t.d(n,{u:function(){return d}});var u=t(85565),i=t(27573),a=t(82880),r=t(12898),o=t(57908),c=t(3095);function s(){let e=(0,u._)(["\n  px-2\n  py-1\n  text-xs\n  font-medium\n  font-sans\n  leading-tight\n  rounded-md\n  shadow-md\n  text-white\n  bg-black/80\n  backdrop-blur\n  break-words\n  z-tooltip\n  max-w-[13rem]\n  [*:disabled_&]:hidden\n"]);return s=function(){return e},e}function l(){let e=(0,u._)(["\n  max-w-[310px]\n  z-tooltip\n  [*:disabled_&]:hidden\n"]);return l=function(){return e},e}function d(e){let{children:n,tooltipContent:t,contentStyle:u="default",side:a="top",className:c,delayDuration:s=200,...l}=e,d=h[u];return(0,i.jsx)(r.zt,{delayDuration:s,children:(0,i.jsxs)(r.fC,{...l,children:[(0,i.jsx)(r.xz,{asChild:!0,children:n}),(0,i.jsx)(r.h_,{children:(0,i.jsx)(d,{className:(0,o.Z)(c,!t&&"hidden"),sideOffset:5,side:a,children:t})})]})})}let f=(0,a.q)(r.VY)(s()),g=(0,a.q)(r.VY)(l()),h={default:f,citation:e=>{let{children:n,...t}=e;return(0,i.jsx)(g,{...t,children:(0,i.jsx)(c.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"p-3 text-sm font-normal font-styrene leading-tight rounded-lg border-0.5 shadow-[0_4px_24px_0_rgba(0,0,0,0.04)] border-border-300/25 text-text-200 bg-bg-100 break-words",children:n})})}}},17741:function(e,n,t){t.d(n,{KS:function(){return a},vV:function(){return i}});let u=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}$/,i=e=>u.test(e),a=(e,n)=>{if(!n)return!1;let t=e.split("@")[1];return n.includes(t)}},99694:function(e,n,t){var u,i,a,r;t.d(n,{Fg:function(){return u},co:function(){return i},hP:function(){return o},qC:function(){return c}}),(a=u||(u={})).GITHUB="github",a.GDRIVE="gdrive",a.OUTLINE="outlin",a.SALESFORCE="salesforce",a.GMAIL="gmail",a.GCAL="gcal",a.SLACK="slack";let o={github:"GitHub",gdrive:"Google Drive",outlin:"Outline",salesforce:"Salesforce",gmail:"Gmail",gcal:"Google Calendar",slack:"Slack"};(r=i||(i={})).CREATED="created",r.PENDING="pending",r.FAILED="failed",r.UPDATING="updating",r.UPDATE_FAILED="update_failed",r.READY="ready",r.UNAUTHENTICATED="unauthenticated",r.ACCESS_DENIED="access_denied",r.DISABLED="disabled";let c=["access_denied","failed","unauthenticated","update_failed"]}}]);